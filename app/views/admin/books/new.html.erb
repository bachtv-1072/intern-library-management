<div class="content-header">
  <div class="container-fluid">
    <div class="row mb-2">
      <div class="col-sm-6">
        <h1 class="m-0 text-dark">Create Book</h1>
      </div>
    </div>
  </div>
</div>
<section class="content">
  <div class="container-fluid">
    <div class="row">
      <div class="col-lg-12">
        <div class="card">
          <div class="card-body">
            <%= form_for [:admin, @book] do |f| %>
              <div class="row">
                <div class="col-md-6">
                  <div class= "valueColumn">
                    <div class="form-group">
                      <%= f.label :name %>
                      <%= f.text_field :name, class:"form-control" ,
                        placeholder:"Enter ..." %>
                    </div>
                    <div class="form-group">
                      <%= f.label :description %>
                      <%= f.text_area :description, class:"form-control",
                        placeholder:"Description..." %>
                    </div>
                    <div class="form-group">
                      <%= f.label :quantity %>
                      <%= f.number_field :quantity, class:"form-control",
                        in: 1..99, step:1, placeholder:"Quantity" %>
                    </div>
                  </div>
                </div>
                <div class="col-md-6">
                  <div class="forenkey">
                    <div class="form-group">
                      <%= f.label :category_id %>
                      <%= select_tag :category_id,
                        options_for_select(@categories.collect{|u| [u.title, u.id]}),
                        class:"custom-select" %>
                    </div>
                    <div class="form-group">
                      <%= f.label :publisher_id %>
                      <%= select_tag :publisher_id,
                        options_for_select(@publishes.collect{|u| [u.name, u.id]}),
                        class:"custom-select" %>
                    </div>
                    <div class="form-group">
                      <%= f.fields_for :images do |image| %>
                         <%= render "image_fields", f: image %>
                      <% end %>
                      <div class="link">
                        <%= link_to_add_association "Add image", f, :images %>
                      </div>
                    </div>
                    <div class="form-group">
                      <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#book_details">
                        Open Author
                      </button>
                      <div class="modal fade" id="book_details">
                        <div class="modal-dialog">
                          <div class="modal-content">
                            <div class="modal-body">
                              <%= form_for :book_detail, url: admin_book_details_path, html: { multipart: true } do |f| %>
                                <div class="form-group">
                                  <%= f.label :author_id, "User roles" %>
                                  <%= f.collection_select :author_id, Author.all.order(id: :asc), :id, :name, {},
                                    { multiple: true, class: "form-control" } %>
                                  <div class="explanation">Choose one or more roles</div>
                                </div>
                                <%= f.submit "Confirm", class: "btn btn-primary" %>
                              <% end %>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            <% end %>
        </div>
      </div>
    </div>
  </div>
</section>
